var questionTextElement = document.querySelector("#question-text");
var questionChoicesElement = document.querySelector("#question-choices");
var resultsPElement = document.querySelector("#results");
// Buttons
var startQuizButtonElement = document.querySelector("#start-quiz-button");
//  Screens
var startQuizScreen = document.querySelector("#start-quiz-screen");
var quizQuestionsScreen = document.querySelector("#quiz-questions-screen");
var currentQuestionIndex = 0;
var questions = [
  {
    question: "How can I declare a function in JavaScript",
    answers: [
      "function name () {}",
      "var name = funciton() {}",
      "var name = () => {} ",
      "All of the above",
    ],
    correctAnswer: 3,
  },
  {
    question: "The operator === is _________",
    answers: [
      "The logical operator for and",
      "The logical operator for or",
      "The strict equal sign",
      "The loose equal sign",
    ],
    correctAnswer: 2,
  },
  {
    question: "Commonly used data types do NOT include",
    answers: ["strings", "booleans", "alerts", "numbers"],
    correctAnswer: 2,
  },
  {
    question: "The condition of an if/else statement is enclosed with ________",
    answers: ["quotes,", "curly brackets", "parenthesis", "square brackets"],
    correctAnswer: 2,
  },
  {
    question: "Arrays in JavaScript can be used to store ...",
    answers: ["numbers and strings", "booleans", "objects", "all of the above"],
    correctAnswer: 3,
  },
];

function checkAnswer(event) {
  console.log("check answer please");
  // find the current question.
  var currentQuestion = questions[currentQuestionIndex];
  // get the right answer for the current question.
  var correctAnswer = currentQuestion.answer;
  // get the choice that the user clicked.
  var buttonClicked = event.target;

  // compare right answer with the user choice (clicked) < right/wrong
  if (correctAnswer === buttonClicked.textContent) {
    resultsPElement.textContent = "CORRECT! YOU GOT THAT RIGHT!!!ðŸ˜Ž";
  } else {
    resultsPElement.textContent = "You got that wrong!â€¼ï¸";
  }

  setTimeout(function () {
    resultsPElement.textContent = "";
  }, 750);

  currentQuestionIndex = currentQuestionIndex + 1;
  displayQuestion();
}

function displayQuestion() {
  console.log("display question please");
  var currentQuestion = questions[currentQuestionIndex];
  questionTextElement.textContent = currentQuestion.question;

  var choices = currentQuestion.choices;
  questionChoicesElement.innerHTML = "";

  for (var i = 0; i < choices.length; i++) {
    var button = document.createElement("button");
    button.textContent = choices[i];
    button.addEventListener("click", checkAnswer);
    questionChoicesElement.appendChild(button);
  }
}

function startQuiz() {
  // console.log("start quiz");

  startQuizScreen.classList.add("hidden");
  quizQuestionsScreen.classList.remove("hidden");
  displayQuestion();

  startQuizButtonElement.addEventListener("click", startQuiz);
}
console.log("Starting quiz");
